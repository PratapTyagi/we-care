{"version":3,"sources":["components/Navbar/Navbar.jsx","components/card/Card.jsx","components/home/Home.jsx","components/viewDetails/ViewDetails.jsx","components/viewRequests/ViewRequests.jsx","components/addrequest/Addrequest.jsx","Routing.jsx","App.js","index.js","components/newCampaign/NewCampaign.jsx"],"names":["Navbar","className","to","style","textDecoration","href","src","Card","details","title","image","alt","campaignDescription","address","manager","color","marginRight","Home","useState","campaignDetails","setCampaignDetails","singleCampaignDetail","a","provider","ethers","providers","InfuraProvider","contract","Contract","CampaignJSON","abi","getDetails","data","console","log","getCampaignAddresses","FactoryJSON","getCampaigns","campaignAddress","index","detail","prevItem","length","useEffect","map","ViewDetails","useParams","balance","minimumContribution","totalRequests","contributersCount","campaignSummary","setcampaignSummary","value","setvalue","loading","setLoading","isContributor","setIsContributor","account","setAccount","undefined","window","ethereum","request","method","accounts","Web3Provider","signer","getSigner","campaign","getSummary","parseInt","toString","Math","pow","message","contribute","e","preventDefault","alert","utils","parseEther","info","wait","type","placeholder","defaultValue","onChange","target","onClick","ViewRequests","setData","totalApprovers","settotalApprovers","currentUser","setCurrentUser","toLowerCase","newData","i","requests","push","contributorsCount","count","approve","approveRequest","dataArray","dataAtRequestIndex","finalize","finalizeRequest","scope","compleate","approvalsCount","Addrequest","history","useHistory","description","recepient","formInfo","setFormInfo","onSubmit","createRequest","getAccounts","Routing","location","pathname","localeCompare","startsWith","path","exact","component","NewCampaign","App","ReactDOM","render","document","getElementById","ipfs","create","host","port","protocol","minimumamount","setMinimumAmount","setloading","buffer","setBuffer","setTitle","setDescription","add","addCampaign","htmlFor","id","accept","file","files","reader","FileReader","readAsArrayBuffer","onloadend","Buffer","from","result"],"mappings":"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","file":"static/js/main.e9b14a23.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport \"./Navbar.css\";\r\nconst Navbar = () => {\r\n  return (\r\n    <div className=\"navbar\">\r\n      <Link className=\"link\" to=\"/\" style={{ textDecoration: \"none\" }}>\r\n        <h1>WeCare</h1>\r\n      </Link>\r\n      <div className=\"navbar__right\">\r\n        <a href=\"https://github.com/PratapTyagi\">\r\n          <img src=\"https://cdn.afterdawn.fi/v3/news/original/github-logo.png\" />{\" \"}\r\n          Github\r\n        </a>\r\n        <Link\r\n          to=\"/campaigns/new\"\r\n          className=\"link\"\r\n          style={{ textDecoration: \"none\" }}\r\n        >\r\n          Create\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import \"./Card.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Card = ({ details }) => {\r\n  return (\r\n    <div className=\"home__card\">\r\n      <h5>{details?.title}</h5>\r\n\r\n      <div className=\"home__card__bottom\">\r\n        {details?.image ? (\r\n          <img\r\n            src={`https://ipfs.infura.io/ipfs/${details?.image}`}\r\n            alt=\"Campaign image\"\r\n          />\r\n        ) : null}\r\n        <div className=\"home__card__info\">\r\n          <h5>Reason: {details?.campaignDescription}</h5>\r\n          <p>Address: {details?.address}</p>\r\n          <p>Manager: {details?.manager}</p>\r\n        </div>\r\n        <div className=\"bottom\">\r\n          <Link\r\n            to={`/campaign/${details?.address}`}\r\n            style={{\r\n              textDecoration: \"none\",\r\n              color: \"initial\",\r\n              marginRight: \"10px\",\r\n            }}\r\n          >\r\n            <button>View Details</button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport FactoryJSON from \"../../abi/Factory.json\";\r\nimport CampaignJSON from \"../../abi/Campaign.json\";\r\nimport { ethers } from \"ethers\";\r\nimport Card from \"../card/Card\";\r\nimport \"./Home.css\";\r\n\r\nconst Home = () => {\r\n  const [campaignDetails, setCampaignDetails] = useState([]);\r\n\r\n  // Details of campaign corresponding to address\r\n  const singleCampaignDetail = async (address) => {\r\n    const provider = new ethers.providers.InfuraProvider(\"rinkeby\");\r\n    const contract = new ethers.Contract(address, CampaignJSON.abi, provider);\r\n    try {\r\n      const data = await contract.getDetails();\r\n      return {\r\n        address,\r\n        manager: data[0],\r\n        title: data[1],\r\n        campaignDescription: data[2],\r\n        image: data[3],\r\n      };\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  // Get Campaign addresses\r\n  const getCampaignAddresses = async () => {\r\n    const provider = new ethers.providers.InfuraProvider(\"rinkeby\");\r\n    let contract = new ethers.Contract(\r\n      FactoryJSON.address,\r\n      FactoryJSON.abi,\r\n      provider\r\n    );\r\n    try {\r\n      let campaignAddress = await contract.getCampaigns();\r\n      for (let index = 0; index < campaignAddress.length; index++) {\r\n        const detail = await singleCampaignDetail(campaignAddress[index]);\r\n        setCampaignDetails((prevItem) => [...prevItem, detail]);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getCampaignAddresses();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"left\">\r\n        <h2>Start Ups</h2>\r\n        {campaignDetails.map((details) => (\r\n          <Card details={details} />\r\n        ))}\r\n      </div>\r\n      <div className=\"right\">\r\n        <Link to=\"/campaigns/new\" style={{ textDecoration: \"none\" }}>\r\n          <button>Create Campaign</button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { Link, useParams } from \"react-router-dom\";\r\nimport \"./ViewDetails.css\";\r\nimport CampaignJSON from \"../../abi/Campaign.json\";\r\nimport { ethers } from \"ethers\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst ViewDetails = () => {\r\n  const { address } = useParams();\r\n  const [campaignSummary, setcampaignSummary] = useState({\r\n    balance: \"\",\r\n    minimumContribution: \"\",\r\n    totalRequests: \"\",\r\n    contributersCount: \"\",\r\n    manager: \"\",\r\n  });\r\n  const [value, setvalue] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [isContributor, setIsContributor] = useState(false);\r\n  const [account, setAccount] = useState(\"\");\r\n\r\n  // Current Account and is it contributor\r\n  useEffect(async () => {\r\n    if (typeof window.ethereum == undefined) {\r\n      return;\r\n    }\r\n    const accounts = await window.ethereum.request({\r\n      method: \"eth_requestAccounts\",\r\n    });\r\n    setAccount(accounts[0]);\r\n\r\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n    const signer = provider.getSigner();\r\n    const campaign = new ethers.Contract(address, CampaignJSON.abi, signer);\r\n    setIsContributor(await campaign.isContributor(accounts[0]));\r\n  }, [isContributor, account, campaignSummary]);\r\n\r\n  // Current campaign info\r\n  useEffect(async () => {\r\n    const provider = new ethers.providers.InfuraProvider(\"rinkeby\");\r\n    const campaign = new ethers.Contract(address, CampaignJSON.abi, provider);\r\n    try {\r\n      const data = await campaign.getSummary();\r\n      setcampaignSummary({\r\n        balance: parseInt(data[0].toString()) / Math.pow(10, 18) - 1,\r\n        minimumContribution: parseInt(data[1].toString()) + \"\",\r\n        totalRequests: data[2].toString(),\r\n        contributersCount: data[3].toString(),\r\n        manager: data[4],\r\n      });\r\n    } catch (error) {\r\n      console.log(error.message || \"Something went wrong\");\r\n    }\r\n  }, [campaignSummary]);\r\n\r\n  const contribute = async (e) => {\r\n    e.preventDefault();\r\n    if (!value) {\r\n      return alert(\"Put some ethers value\");\r\n    }\r\n    if (typeof window.ethereum !== undefined) {\r\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n      const signer = await provider.getSigner();\r\n      let contract = new ethers.Contract(address, CampaignJSON.abi, signer);\r\n      try {\r\n        setLoading(true);\r\n        const info = await contract.contribute({\r\n          value: ethers.utils.parseEther(value),\r\n        });\r\n        await info.wait();\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.log(error);\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"viewDetails\">\r\n      <div className=\"left\">\r\n        <h2>Campaigns information</h2>\r\n        <div>\r\n          <div className=\"card first\">\r\n            <p>Manager</p>\r\n            <p>{campaignSummary.manager}</p>\r\n            <p>This is address of manager of this startup campaign</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"left__bottom\">\r\n          <div className=\"card\">\r\n            <p>Total Balance</p>\r\n            <p>{parseInt(campaignSummary.balance) + 1} wei</p>\r\n          </div>\r\n          <div className=\"card second\">\r\n            <p>Min. Contribution</p>\r\n            <p>{campaignSummary.minimumContribution} wei</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"left__bottom\">\r\n          <div className=\"card\">\r\n            <p>Total requests</p>\r\n            <p>{campaignSummary.totalRequests}</p>\r\n          </div>\r\n          <div className=\"card second\">\r\n            <p>Contributers</p>\r\n            <p>{campaignSummary.contributersCount}</p>\r\n          </div>\r\n        </div>\r\n        {isContributor || campaignSummary.manager === account ? (\r\n          <Link className=\"link\" to={`/campaign/${address}/requests`}>\r\n            <button>View Requests</button>\r\n          </Link>\r\n        ) : null}\r\n      </div>\r\n      <div className=\"right\">\r\n        <h2>Contribute To Campaign</h2>\r\n        <label>* in wei</label>\r\n        <input\r\n          type=\"text\"\r\n          placeholder={`Minimum ${campaignSummary.minimumContribution} wei`}\r\n          defaultValue={value}\r\n          onChange={(e) => setvalue(e.target.value)}\r\n        />\r\n        {loading && <p className=\"loading\"></p>}\r\n        <button onClick={contribute}>Contribute</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewDetails;\r\n","import \"./ViewRequests.css\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { ethers } from \"ethers\";\r\nimport CampaignJSON from \"../../abi/Campaign.json\";\r\n\r\nconst ViewRequests = () => {\r\n  const { address } = useParams();\r\n  const [data, setData] = useState([]);\r\n  const [totalApprovers, settotalApprovers] = useState(0);\r\n  const [currentUser, setCurrentUser] = useState(\"\");\r\n  const [isContributor, setIsContributor] = useState(false);\r\n  const [campaignSummary, setcampaignSummary] = useState({\r\n    totalRequests: \"\",\r\n    manager: \"\",\r\n  });\r\n\r\n  // Current Account and is it contributor\r\n  useEffect(async () => {\r\n    if (typeof window.ethereum == undefined) {\r\n      return;\r\n    }\r\n    const accounts = await window.ethereum.request({\r\n      method: \"eth_requestAccounts\",\r\n    });\r\n\r\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n    const signer = provider.getSigner();\r\n    const campaign = new ethers.Contract(address, CampaignJSON.abi, signer);\r\n    setIsContributor(await campaign.isContributor(accounts[0]));\r\n  }, [isContributor]);\r\n\r\n  // Current campaign info\r\n  useEffect(async () => {\r\n    const provider = new ethers.providers.InfuraProvider(\"rinkeby\");\r\n    const campaign = new ethers.Contract(address, CampaignJSON.abi, provider);\r\n    const data = await campaign.getSummary();\r\n    setcampaignSummary({\r\n      totalRequests: data[2].toString(),\r\n      manager: data[4].toLowerCase(),\r\n    });\r\n  }, []);\r\n\r\n  // Request's data\r\n  useEffect(async () => {\r\n    const provider = new ethers.providers.InfuraProvider(\"rinkeby\");\r\n    const campaign = new ethers.Contract(address, CampaignJSON.abi, provider);\r\n    try {\r\n      let newData = [];\r\n      for (let i = 0; i < campaignSummary.totalRequests; i++) {\r\n        let request = await campaign.requests(i);\r\n        request = {\r\n          ...request,\r\n          2: request[2].toString(),\r\n          4: request[4].toString(),\r\n        };\r\n        newData.push(request);\r\n      }\r\n      setData(newData);\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  }, [campaignSummary]);\r\n\r\n  // Contributors count\r\n  useEffect(async () => {\r\n    if (typeof window.ethereum == undefined) {\r\n      return;\r\n    }\r\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n    const signer = provider.getSigner();\r\n    const campaign = new ethers.Contract(address, CampaignJSON.abi, signer);\r\n    try {\r\n      const count = await campaign.contributorsCount();\r\n      settotalApprovers(count.toString());\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  }, [totalApprovers]);\r\n\r\n  useEffect(async () => {\r\n    if (typeof window.ethereum == undefined) {\r\n      return;\r\n    }\r\n    const accounts = await window.ethereum.request({\r\n      method: \"eth_requestAccounts\",\r\n    });\r\n\r\n    setCurrentUser(accounts[0].toLowerCase());\r\n  }, []);\r\n\r\n  const approve = async (index) => {\r\n    if (typeof window.ethereum == undefined) {\r\n      return;\r\n    }\r\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n    const signer = provider.getSigner();\r\n    const campaign = new ethers.Contract(address, CampaignJSON.abi, signer);\r\n    try {\r\n      let info = await campaign.approveRequest(index);\r\n      await info.wait();\r\n\r\n      // Updating number of approvals\r\n      let dataArray = [...data];\r\n      let dataAtRequestIndex = { ...dataArray[index] };\r\n      dataAtRequestIndex[4] = parseInt(data[index][4]) + 1;\r\n      dataArray[index] = dataAtRequestIndex;\r\n      setData(dataArray);\r\n    } catch (error) {\r\n      alert(error.message || \"Something went wrong\");\r\n    }\r\n  };\r\n\r\n  const finalize = async (index) => {\r\n    if (typeof window.ethereum == undefined) {\r\n      return;\r\n    }\r\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n    const signer = provider.getSigner();\r\n    const campaign = new ethers.Contract(address, CampaignJSON.abi, signer);\r\n    try {\r\n      await campaign.finalizeRequest(index);\r\n    } catch (error) {\r\n      alert(error.message || \"Something went wrong\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"viewRequests\">\r\n      <h2>Requests</h2>\r\n      {campaignSummary.manager === currentUser ? (\r\n        <Link className=\"link\" to={`/campaign/${address}/requests/addrequest`}>\r\n          <button>Add request</button>\r\n        </Link>\r\n      ) : null}\r\n      <div className=\"viewRequests__inner\">\r\n        <table className=\"table table-borderless table-hover container\">\r\n          <thead className=\"table-active\">\r\n            <tr>\r\n              <th scope=\"col\">Id</th>\r\n              <th scope=\"col\">Description</th>\r\n              <th scope=\"col\">Amount</th>\r\n              <th scope=\"col\">Recipient</th>\r\n              <th scope=\"col\">Approval Count</th>\r\n              {isContributor ? <th scope=\"col\">Approve</th> : null}\r\n              {campaignSummary.manager === currentUser ? (\r\n                <th scope=\"col\">Finalize</th>\r\n              ) : null}\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {data &&\r\n              data.map((value, index) => (\r\n                <tr\r\n                  key={index}\r\n                  className={`${value.compleate ? \"dim\" : \"\"} ${\r\n                    value.approvalsCount + 1 > totalApprovers / 2 &&\r\n                    !value.compleate\r\n                      ? \"readyToFinalize\"\r\n                      : \"\"\r\n                  }`}\r\n                >\r\n                  <td>{index}</td>\r\n                  <td>{value[0]}</td>\r\n                  <td>{value[2]}</td>\r\n                  <td>{value[1]}</td>\r\n                  <td>\r\n                    {value[4]}/{totalApprovers}\r\n                  </td>\r\n                  <td>\r\n                    {!value.compleate && isContributor ? (\r\n                      <button\r\n                        className=\"button\"\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          approve(index);\r\n                        }}\r\n                      >\r\n                        Approve\r\n                      </button>\r\n                    ) : null}\r\n                  </td>\r\n                  <td>\r\n                    {!value.compleate &&\r\n                    campaignSummary.manager === currentUser ? (\r\n                      <button\r\n                        className=\"button\"\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          finalize(index);\r\n                        }}\r\n                      >\r\n                        Finalize\r\n                      </button>\r\n                    ) : null}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewRequests;\r\n","import { useState } from \"react\";\r\nimport CampaignJSON from \"../../abi/Campaign.json\";\r\nimport { ethers } from \"ethers\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nimport \"./Addrequest.css\";\r\nconst Addrequest = () => {\r\n  const history = useHistory();\r\n  const [formInfo, setFormInfo] = useState({\r\n    description: \"\",\r\n    value: \"\",\r\n    recepient: \"\",\r\n  });\r\n  const { address } = useParams();\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (\r\n      formInfo.description === \"\" ||\r\n      formInfo.value === \"\" ||\r\n      formInfo.recepient === \"\"\r\n    )\r\n      return alert(\"Empty inputs\");\r\n\r\n    if (typeof window.ethereum == undefined) {\r\n      return;\r\n    }\r\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n    const signer = provider.getSigner();\r\n    const campaign = new ethers.Contract(address, CampaignJSON.abi, signer);\r\n    try {\r\n      const info = await campaign.createRequest(\r\n        formInfo.description,\r\n        formInfo.value,\r\n        formInfo.recepient\r\n      );\r\n      const temp = await info.wait();\r\n      if (temp) history.push(`/campaign/${address}/requests`);\r\n    } catch (error) {\r\n      alert(error.message || \"Something went wrong\");\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"addRequest\">\r\n      <h2>Add Request</h2>\r\n      <form onSubmit={onSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Description\"\r\n          defaultValue={formInfo.description}\r\n          onChange={(e) =>\r\n            setFormInfo({ ...formInfo, description: e.target.value })\r\n          }\r\n        />\r\n        <input\r\n          type=\"\"\r\n          placeholder=\"Amount required\"\r\n          defaultValue={formInfo.value}\r\n          onChange={(e) => setFormInfo({ ...formInfo, value: e.target.value })}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Receipient\"\r\n          defaultValue={formInfo.recepient}\r\n          onChange={(e) =>\r\n            setFormInfo({ ...formInfo, recepient: e.target.value })\r\n          }\r\n        />\r\n        <button type=\"submit\">Add Request</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Addrequest;\r\n","import { useEffect, useState } from \"react\";\r\nimport { Route, useHistory } from \"react-router-dom\";\r\nimport {\r\n  Home,\r\n  NewCampaign,\r\n  ViewDetails,\r\n  ViewRequests,\r\n  Addrequest,\r\n} from \"./components\";\r\n\r\nconst getAccounts = async () => {\r\n  if (window && typeof window.ethereum !== undefined) {\r\n    const accounts = await window.ethereum.request({\r\n      method: \"eth_requestAccounts\",\r\n    });\r\n    return accounts[0];\r\n  }\r\n};\r\n\r\nconst Routing = () => {\r\n  const [account, setAccount] = useState(\"\");\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const account = getAccounts();\r\n    setAccount(account);\r\n    if (\r\n      !account &&\r\n      (!history.location.pathname.localeCompare(\"/campaigns/:address\") ||\r\n        !history.location.pathname.startsWith(\"/campaign\"))\r\n    ) {\r\n      history.push(\"/\");\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {account ? (\r\n        <>\r\n          <Route path=\"/\" exact component={Home} />\r\n          <Route path=\"/campaigns/new\" exact component={NewCampaign} />\r\n          <Route path=\"/campaign/:address\" exact component={ViewDetails} />\r\n          <Route\r\n            path=\"/campaign/:address/requests\"\r\n            exact\r\n            component={ViewRequests}\r\n          />\r\n          <Route\r\n            path=\"/campaign/:address/requests/addrequest\"\r\n            component={Addrequest}\r\n          />\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Route path=\"/\" exact component={Home} />\r\n          <Route path=\"/campaigns/new\" exact component={NewCampaign} />\r\n          <Route path=\"/campaign/:address\" exact component={ViewDetails} />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Routing;\r\n","import { BrowserRouter as Router } from \"react-router-dom\";\r\nimport { Navbar } from \"./components\";\r\nimport Routing from \"./Routing\";\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"app\">\r\n      <Router>\r\n        <Navbar />\r\n        <Routing />\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n","import React, { useState } from \"react\";\r\nimport \"./NewCampaign.css\";\r\nimport FactoryJSON from \"../../abi/Factory.json\";\r\nimport { ethers } from \"ethers\";\r\nimport { create } from \"ipfs-http-client\";\r\nconst ipfs = create({\r\n  host: \"ipfs.infura.io\",\r\n  port: 5001,\r\n  protocol: \"https\",\r\n});\r\n\r\nconst NewCampaign = () => {\r\n  const [minimumamount, setMinimumAmount] = useState(\"\");\r\n  const [loading, setloading] = useState(false);\r\n  const [buffer, setBuffer] = useState(\"\");\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  const onFileChange = (e) => {\r\n    e.preventDefault();\r\n    const file = e.target.files[0];\r\n    // Making buffer type\r\n    const reader = new window.FileReader();\r\n    reader.readAsArrayBuffer(file);\r\n    reader.onloadend = async () => {\r\n      const buffer = await Buffer.from(reader.result);\r\n      setBuffer(buffer);\r\n    };\r\n  };\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!title || !description || !buffer || !minimumamount)\r\n      return alert(\r\n        \"Must have correct image source, amount, title, description\"\r\n      );\r\n\r\n    setloading(true);\r\n    if (window.ethereum !== undefined) {\r\n      const data = await ipfs.add(buffer);\r\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n      const signer = await provider.getSigner();\r\n      let contract = new ethers.Contract(\r\n        FactoryJSON.address,\r\n        FactoryJSON.abi,\r\n        signer\r\n      );\r\n      try {\r\n        let info = await contract.addCampaign(\r\n          minimumamount,\r\n          data.path,\r\n          title,\r\n          description\r\n        );\r\n        info = await info.wait();\r\n        if (info) window.location.href = \"/\";\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n    setloading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"newCampaign\">\r\n      <h2>Add campaign</h2>\r\n      <div className=\"newCampaign__container\">\r\n        <form onSubmit={onSubmit}>\r\n          <div className=\"container\">\r\n            <div className=\"button-wrap\">\r\n              <label className=\"button\" htmlFor=\"upload\">\r\n                Campaign Pic\r\n              </label>\r\n              <input\r\n                id=\"upload\"\r\n                type=\"file\"\r\n                accept=\".jpg, .jpeg, .png, .bmp, .gif\"\r\n                onChange={onFileChange}\r\n              />\r\n            </div>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Title\"\r\n            value={title}\r\n            onChange={(e) => setTitle(e.target.value)}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Description\"\r\n            value={description}\r\n            onChange={(e) => setDescription(e.target.value)}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Amount In Wei\"\r\n            value={minimumamount}\r\n            onChange={(e) => setMinimumAmount(e.target.value)}\r\n          />\r\n\r\n          <button type=\"submit\">Create</button>\r\n          {loading && <p className=\"loading\"></p>}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewCampaign;\r\n"],"sourceRoot":""}